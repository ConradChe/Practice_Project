<!DOCTYPE html>
<html>
<head>
    <title>注册</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <script type="text/javascript" src="frame/include.js"></script>
    <script type="text/javascript">
//        $(document).keydown(function(event){
//            if(event.keyCode==13){
//                registFormSubmit();
//                return false;
//            }
//        });

        function registFormSubmit(){
            var loginName = document.registForm["login_name"].value;
            var loginPwd = document.registForm["login_pwd"].value;
            var loginPwd = document.registForm["login_repwd"].value;

            // 进行基本有效性验证
            if(loginName == null || loginName.length == 0){
                alert("用户名不能为空!");
                return;
            }
            if(loginPwd == null || loginPwd.length == 0){
                alert("密码不能为空!");
                return;
            }
            if(loginPwd != loginPwd){
                alert("两次密码不一致!");
                return;
            }

            // 进行更多验证
            if(loginName.indexOf("'") >= 0 || loginPwd.indexOf("'") >=0){
                alert("用户名和密码中不允许存在单引号，请检查!");
                return;
            }

            document.registForm.submit();
        }
    </script>
</head>

<body>
<div class="login_form">
    <form name="registForm" method="post" action="common/register.do">
        <input type="hidden" name="validate_code_flag"/>
        <input type="hidden" name="error_number" value="<%=errorNumber %>"/>
        <input hait-type="hait.form.field.TextField" class="username input_us" type="text" maxlength="11" name="login_name" placeholder="请输入用户名" autocomplete="off"/>
        <input hait-type="hait.form.field.TextField" class="username input_us" type="text" maxlength="11" name="real_name" placeholder="请输入真实姓名" autocomplete="off"/>
        <input hait-type="hait.form.field.TextField" class="password input_us" type="password" maxlength="20" name="login_pwd" placeholder="请输入密码" />
        <input hait-type="hait.form.field.TextField" class="password input_us" type="password" maxlength="20" name="login_repwd" placeholder="请确认密码" />
        <input class="btn_login " type="button" value="注&nbsp;&nbsp;&nbsp;册" onclick="registFormSubmit()">
        <div style="clear: both;"></div>
    </form>
</div>
</body>
</html>
